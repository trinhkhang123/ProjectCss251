'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var pathToRegexp = require('path-to-regexp');
var qs = require('qs');

var compilePathCache = {};
function compilePath(pattern, params, query) {
    if (!compilePathCache[pattern]) {
        compilePathCache[pattern] = pathToRegexp.compile(pattern);
    }
    var compiledPath = compilePathCache[pattern](params);
    var stringifiedQuery = query ? qs.stringify(query) : null;
    return stringifiedQuery
        ? (compiledPath + "?" + stringifiedQuery).trim()
        : compiledPath.trim();
}

exports.compilePath = compilePath;
